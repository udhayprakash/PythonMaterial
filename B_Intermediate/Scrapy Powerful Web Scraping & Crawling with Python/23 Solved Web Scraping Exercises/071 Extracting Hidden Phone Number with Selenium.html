<html>
                        <head>
                        <link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
                        <title>071 Extracting Hidden Phone Number with Selenium</title>
                        </head>
                        <body>
                        <div class="container">
                        <div class="row">
                        <div class="col-md-10 col-md-offset-1">
                            <p class="lead"><div class="asset-container">
    <div class="asset-container__padding article-view">
        <div class="w3c-default">
            <p>Go to <a href="https://www.olx.co.ke/" rel="nofollow" target="_blank">Olx website</a> and then open any active product. On the product page, you can see that the phone number is hidden and replaced by xxxx. This requires the user to click the "<strong>Show phone</strong>" button to show the number.</p>

<figure><img src="https://udemy-images.s3.amazonaws.com:443/redactor/2017-02-11_14-34-18-eed6d43100c94d244c8ff533751353e3/hidden-phone.png"></figure>

















<p><br><br></p>







<p><br></p>





















<p>So, in this tutorial we will see how to handle this with Selenium to click the button. So the Python code will be as follows.</p>

<p>Note 1: Change the path to chromedriver to yours.</p>

<p>Note 2: Change "url" to the product URL you have just opened. <br></p>







<p><br></p>







<pre class="prettyprint linenums">from selenium import webdriver
from time import sleep

chromedriver = webdriver.Chrome(executable_path = '/Users/UserName/Downloads/chromedriver')
url = "https://www.olx.co.ke/ad/nissan-lafesta-quick-sale-ID15SqEf.html"
chromedriver.get(url)
sleep(3)

show_phone = chromedriver.find_element_by_xpath('//*[@id="contact_methods"]')
show_phone.click()
sleep(3)

phone = chromedriver.find_element_by_xpath('//*[@class="contactbox-indent rel brkword"]/strong').text
print phone

chromedriver.quit()</pre>



















































<p><br></p>

















<figure><img src="https://udemy-images.s3.amazonaws.com:443/redactor/2017-02-11_14-34-40-164785b048e36538a1a033f7d4355973/selenium.png"></figure>

















<p><br></p>

















<p><br></p>

















<p>If you rather want to use Scrapy after clicking the button, you will 
have to take the page source from selenium and use Scrapy Selector:</p>

















<pre class="prettyprint linenums">from scrapy.selector import Selector
...</pre>



































<p>and then after clicking the button using Selenium:
</p>

















<pre class="prettyprint linenums">sel = Selector(text=chromedriver.page_source)
phone = sel.xpath('//*[@class="contactbox-indent rel brkword"]/strong/text()').extract_first()
print phone</pre>



































<p><br></p>

















<p>But you can just use Selenium alone as mentioned above.</p>

















<p><br></p>

















<p>Download the code file and run it on your machine.</p>

















<p><br></p>

















<p>If you have questions, please send them to the <strong>Q&amp;A</strong> section.
</p>

















<p><br></p>
        </div>
    </div>
</div>
</p>
                        </div>
                        </div>
                        </div>
                        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
                        </body>
                        </html>